"use strict";(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[469],{7469:function(e,i,t){t.r(i),t.d(i,{default:function(){return E}});var n,a=t(2791),o=t(9439),s=t(1413),r=t(5671),u=t(3144),c="OPEN_DIALOG_IN_QUEUE",l="CLOSE_DIALOG_IN_QUEUE",d=new(function(){function e(){(0,r.Z)(this,e),this.dataStore=void 0,this.dataStore=[]}return(0,u.Z)(e,[{key:"enqueue",value:function(e){this.dataStore.push(e)}},{key:"dequeue",value:function(){this.dataStore.shift()}},{key:"cutToFront",value:function(e){this.dataStore.unshift(e)}},{key:"cutToSecond",value:function(e){this.dataStore.splice(1,0,e)}},{key:"front",value:function(){return this.dataStore[0]}},{key:"back",value:function(){return this.dataStore[this.dataStore.length-1]}},{key:"isEmpty",value:function(){return 0===this.dataStore.length}},{key:"toString",value:function(){return this.dataStore.join(",")}}]),e}()),m=function(){document.dispatchEvent(new CustomEvent(c,{detail:d.front()}))},p={openInQueue:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d.isEmpty()?(d.enqueue({dialogName:e,options:i}),m()):d.enqueue({dialogName:e,options:i})},cutToFrontNextInQueue:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d.isEmpty()?(d.enqueue({dialogName:e,options:i}),m()):d.cutToSecond({dialogName:e,options:i})},close:function(){var e=!0;return d.dataStore.length>1&&(e=!1),document.dispatchEvent(new CustomEvent(l,{detail:(0,s.Z)((0,s.Z)({},d.front()),{},{isLast:e})})),d.dequeue(),new Promise((function(e){d.isEmpty()?setTimeout((function(){e("")}),200):(e(""),m())}))},queue:d},f=t(4164),h=function(e){var i=e.children,t=(0,a.useRef)(document.createElement("div"));return(0,a.useEffect)((function(){document.body.appendChild(t.current);var e=t.current.parentElement;return function(){e&&e.removeChild(t.current)}}),[]),(0,f.createPortal)(i,t.current)},v=document.querySelector("body"),x=0,g=t(184);var j=function(e){var i=e.children,t=e.maskBgColor,s=void 0===t?"rgba(0,0,0,0.7)":t,r=e.lockPageScroll,u=void 0===r||r,d=e.zIndex,m=void 0===d?200:d,p=(0,a.useState)({opacity:0,transform:"scale(0.1)"}),f=(0,o.Z)(p,2),j=f[0],b=f[1],q=(0,a.useState)(!1),y=(0,o.Z)(q,2),D=y[0],N=y[1],k=(0,a.useState)(-1),S=(0,o.Z)(k,2),E=S[0],L=S[1];(0,a.useEffect)((function(){document.addEventListener(c,(function(e){var t;e.detail.dialogName?(e.detail.options.dialogData&&(n=e.detail.options.dialogData),a.Children.forEach(i,(function(i,t){e.detail.dialogName===i.props.dialogName&&O(t)})),null!==(t=e.detail.options)&&void 0!==t&&t.withoutMask?N(!0):N(!1)):console.warn("you may miss the dialogName")})),document.addEventListener(l,(function(e){w({isLast:e.detail.isLast})}))}),[]);var O=function(e){L(e),setTimeout((function(){b({opacity:1,transform:"scale(1)"}),u&&v&&("fixed"!==v.style.position&&(x=window.scrollY),v.style.position="fixed",v.style.top="-".concat(x,"px"))}),20)},w=function(e){var i=e.isLast;(void 0===i||i)&&(u&&v&&(v.style.position="static",v.style.top="unset",window.scrollTo(0,x)),b({opacity:0,transform:"scale(1)"}),setTimeout((function(){L(-1),n=null,b({opacity:0,transform:"scale(0.1)"})}),180))};if(-1===E)return null;var C=function(e){var t;return t=1===a.Children.count(i)?i:i[e],n&&(t=(0,a.cloneElement)(t,{dialogData:n})),t};return(0,g.jsx)(h,{children:D?(0,g.jsx)(g.Fragment,{children:C(E)}):(0,g.jsx)("div",{className:"dialog-queue-container",style:{backgroundColor:s,opacity:j.opacity,backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)",zIndex:m},children:C(E)})})};var b=function(e){var i,t,n,a=e.money;return(0,g.jsxs)("div",{className:"container",children:[(0,g.jsxs)("div",{className:"dialog-panel",children:[(0,g.jsxs)("div",{className:"title",children:["Dialog1 \uffe5",a]}),(0,g.jsxs)("div",{className:"content",children:["name:"," ",null===(i=e.dialogData)||void 0===i?void 0:i.name," ",(0,g.jsx)("br",{}),"a:"," ",null===(t=e.dialogData)||void 0===t?void 0:t.a," ",(0,g.jsx)("br",{}),"ba:"," ",null===(n=e.dialogData)||void 0===n?void 0:n.b.ba," ",(0,g.jsx)("br",{}),(0,g.jsx)("br",{}),"hello world!",(0,g.jsx)("p",{children:"1Lorem ipsum dolor sit amet consectetur adipisicing elit. Quod quae eveniet laudantium! Architecto aperiam dolore iste odit distinctio expedita, illum officiis dolores natus sunt unde maxime aliquid nostrum necessitatibus exercitationem."}),(0,g.jsx)("p",{children:"2Lorem ipsum dolor sit amet consectetur adipisicing elit. Quod quae eveniet laudantium! Architecto aperiam dolore iste odit distinctio expedita, illum officiis dolores natus sunt unde maxime aliquid nostrum necessitatibus exercitationem."}),(0,g.jsx)("p",{children:"3Lorem ipsum dolor sit amet consectetur adipisicing elit. Quod quae eveniet laudantium! Architecto aperiam dolore iste odit distinctio expedita, illum officiis dolores natus sunt unde maxime aliquid nostrum necessitatibus exercitationem."}),(0,g.jsx)("p",{children:"4Lorem ipsum dolor sit amet consectetur adipisicing elit. Quod quae eveniet laudantium! Architecto aperiam dolore iste odit distinctio expedita, illum officiis dolores natus sunt unde maxime aliquid nostrum necessitatibus exercitationem."})]})]}),(0,g.jsx)("div",{className:"close",onClick:function(){p.close()}})]})};var q=function(e){return(0,g.jsxs)("div",{className:"container",children:[(0,g.jsx)("div",{className:"dialog-panel",children:(0,g.jsx)("div",{className:"title",children:"Dialog 2"})}),(0,g.jsx)("div",{className:"close",onClick:function(){p.close()}})]})},y=function(e){return e.D1="D1",e.D2="D2",e.D3="D3",e.D3_1="D3_1",e.D4="D4",e}(y||{});var D=function(e){return(0,g.jsxs)("div",{className:"container",children:[(0,g.jsxs)("div",{className:"dialog-panel",children:[(0,g.jsx)("div",{className:"title",children:"Dialog3"}),(0,g.jsx)("button",{onClick:function(){p.cutToFrontNextInQueue(y.D4),p.close()},children:"\u5c06\u5f39\u7a974\u63d2\u961f"})]}),(0,g.jsx)("div",{className:"close",onClick:function(){p.close()}})]})};var N=function(e){var i;return(0,g.jsxs)("div",{className:"container",children:[(0,g.jsxs)("div",{className:"dialog-panel",children:[(0,g.jsx)("div",{className:"title",children:"Dialog3_1"}),(0,g.jsx)("div",{children:"\u6d4b\u8bd5\u6ca1\u6709 mask \u7684\u5f39\u7a97"}),(0,g.jsxs)("div",{className:"content",children:[(0,g.jsxs)("div",{children:["dialogData:"," ",null===(i=e.dialogData)||void 0===i?void 0:i.name]}),(0,g.jsxs)("div",{children:["count:"," ",e.count]}),(0,g.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Laborum fuga repellat soluta consectetur. Perspiciatis eius deleniti odio, reprehenderit quod beatae repudiandae inventore, eaque in earum culpa blanditiis ea, dolores exercitationem!"}),(0,g.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Laborum fuga repellat soluta consectetur. Perspiciatis eius deleniti odio, reprehenderit quod beatae repudiandae inventore, eaque in earum culpa blanditiis ea, dolores exercitationem!"}),(0,g.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Laborum fuga repellat soluta consectetur. Perspiciatis eius deleniti odio, reprehenderit quod beatae repudiandae inventore, eaque in earum culpa blanditiis ea, dolores exercitationem!"}),(0,g.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Laborum fuga repellat soluta consectetur. Perspiciatis eius deleniti odio, reprehenderit quod beatae repudiandae inventore, eaque in earum culpa blanditiis ea, dolores exercitationem!"})]})]}),(0,g.jsx)("div",{className:"close",onClick:function(){p.close()}})]})};var k=function(e){return(0,g.jsxs)("div",{className:"container",children:[(0,g.jsx)("div",{className:"dialog-panel",children:(0,g.jsx)("div",{className:"title",children:"Dialog4"})}),(0,g.jsx)("div",{className:"close",onClick:function(){p.close()}})]})};var S=function(){var e=(0,a.useState)(0),i=(0,o.Z)(e,2),t=i[0],n=i[1],s=(0,a.useState)(0),r=(0,o.Z)(s,2),u=r[0],c=r[1];return(0,a.useEffect)((function(){}),[]),(0,a.useEffect)((function(){console.log(p.queue.dataStore)}),[]),(0,g.jsxs)(g.Fragment,{children:["hello",(0,g.jsx)("h1",{children:"\u6d4b\u8bd5\u5f39\u7a97\u961f\u5217"}),(0,g.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Animi dolor pariatur praesentium voluptas eveniet quam quas commodi recusandae natus consequatur cum, exercitationem esse laboriosam tenetur obcaecati accusamus aliquam nam error."}),(0,g.jsx)("button",{onClick:function(){c((function(e){return e+1})),console.log("clicked")},children:"click me!"}),(0,g.jsx)("h2",{children:"test"}),(0,g.jsx)("button",{onClick:function(){p.openInQueue(y.D1,{dialogData:{name:"dialog",a:2,b:{ba:"blue"}}}),setTimeout((function(){n(999)}),1e3),setTimeout((function(){p.openInQueue(y.D2)}),20),p.openInQueue(y.D3),p.openInQueue(y.D3_1,{withoutMask:!0,dialogData:{name:"chuanshi"}})},children:"open dialogs"}),(0,g.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ex, non. Quod laborum distinctio fuga nisi saepe qui ullam error iure eum excepturi quos, officia delectus, doloribus rerum amet assumenda voluptatum."}),(0,g.jsx)("h2",{children:"test"}),(0,g.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Culpa neque, atque dolore tempora laborum sint facilis possimus quia aliquid, praesentium consequuntur. Sapiente voluptatem deserunt eius natus, corporis ipsam perspiciatis ullam!"}),(0,g.jsx)("h2",{children:"test"}),(0,g.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Iste asperiores a dicta mollitia nobis placeat corrupti tempora odit magni accusantium maxime natus fuga facere tempore, quis ratione! Ullam, exercitationem quasi."}),(0,g.jsx)("h2",{children:"test"}),(0,g.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Non magnam maxime quibusdam, inventore culpa unde velit, quae, ipsam rerum totam aspernatur reprehenderit sequi mollitia vitae veniam cumque numquam deserunt iure!"}),(0,g.jsx)("h2",{children:"test"}),(0,g.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Illum labore sit ut, fugit eligendi voluptas molestiae iusto, repellat sapiente voluptate necessitatibus cumque vitae suscipit exercitationem. Dolorem aliquid laboriosam est repudiandae."}),(0,g.jsxs)(j,{lockPageScroll:!0,children:[(0,g.jsx)(b,{dialogName:y.D1,money:t}),(0,g.jsx)(q,{dialogName:y.D2}),(0,g.jsx)(D,{dialogName:y.D3}),(0,g.jsx)(N,{dialogName:y.D3_1,count:u}),(0,g.jsx)(k,{dialogName:y.D4})]})]})};function E(){return(0,g.jsx)(S,{})}},1413:function(e,i,t){t.d(i,{Z:function(){return o}});var n=t(4942);function a(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?a(Object(t),!0).forEach((function(i){(0,n.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}}}]);
//# sourceMappingURL=469.d101d0bc.chunk.js.map