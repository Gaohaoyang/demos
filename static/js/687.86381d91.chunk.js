"use strict";(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[687],{4687:function(e,n,t){t.r(n),t.d(n,{default:function(){return l}});var r=t(9439),a=t(2791),o={navbar:"PageGradientScroll_navbar__qjoy+",wrap:"PageGradientScroll_wrap__OyIwd",bgImage:"PageGradientScroll_bgImage__bTqO5",bgImageMask:"PageGradientScroll_bgImageMask__COTpi",tab:"PageGradientScroll_tab__4X4i8",tabInner:"PageGradientScroll_tabInner__zm0aV",tabItem:"PageGradientScroll_tabItem__YRTNd",tabActive:"PageGradientScroll_tabActive__EiApL",content:"PageGradientScroll_content__xhd+W",contentInner:"PageGradientScroll_contentInner__Z-gYt",contentItem:"PageGradientScroll_contentItem__N0x8b"},c=[{name:"mountains",url:"https://cdn.jsdelivr.net/gh/Gaohaoyang/pics/demos/mountains.png"},{name:"clouds",url:"https://cdn.jsdelivr.net/gh/Gaohaoyang/pics/demos/clouds.png"},{name:"stars",url:"https://cdn.jsdelivr.net/gh/Gaohaoyang/pics/demos/stars.png"},{name:"convertible car",url:"https://cdn.jsdelivr.net/gh/Gaohaoyang/pics/demos/convertibleCar.png"},{name:"forest",url:"https://cdn.jsdelivr.net/gh/Gaohaoyang/pics/demos/forest.png"},{name:"furniture",url:"https://cdn.jsdelivr.net/gh/Gaohaoyang/pics/demos/furniture.png"},{name:"ice cream",url:"https://cdn.jsdelivr.net/gh/Gaohaoyang/pics/demos/iceCream.png"},{name:"phone",url:"https://cdn.jsdelivr.net/gh/Gaohaoyang/pics/demos/phone.png"},{name:"squirrel",url:"https://cdn.jsdelivr.net/gh/Gaohaoyang/pics/demos/squirrel.png"},{name:"sunset",url:"https://cdn.jsdelivr.net/gh/Gaohaoyang/pics/demos/sunset.png"}],s=t(184),i=window.innerWidth/16*9;var l=function(){var e=(0,a.useState)(0),n=(0,r.Z)(e,2),t=n[0],l=n[1],d=(0,a.useState)(!1),u=(0,r.Z)(d,2),g=u[0],h=u[1],m=(0,a.useState)([255,255,255]),f=(0,r.Z)(m,2),p=f[0],v=f[1],b=(0,a.useRef)(null),y=(0,a.useRef)(null),_=(0,a.useRef)(null),w=function(e){var n;(n=c[e].url,new Promise((function(e,t){var r=new XMLHttpRequest;r.onload=function(){var n=new FileReader;n.onloadend=function(){e(n.result)},n.readAsDataURL(r.response)},r.onerror=function(e){console.error("An error occurred while transferring the image.",e),t(e)},r.open("GET",n),r.responseType="blob",r.send()}))).then((function(e){var n=document.createElement("img");n.src=e,n.onload=function(){var e=function(e){var n=document.createElement("canvas");n.width=e.width,n.height=e.height;var t=n.getContext("2d");if(!t)return[255,255,255];t.drawImage(e,0,0);for(var r=t.getImageData(0,0,n.width,n.height).data,a=0,o=0,c=0,s=0,i=0;i<n.height;i+=50)for(var l=0;l<n.width;l+=50){var d=4*(i*n.width+l);a+=r[d],o+=r[d+1],c+=r[d+2],s+=1}return[Math.floor(a/s),Math.floor(o/s),Math.floor(c/s)]}(n);v(e),!function(e){if(!e)throw new Error("rgb is required");var n=(0,r.Z)(e,3),t=n[0],a=n[1],o=n[2];if(t<0||a<0||o<0)throw new Error("rgb values must be greater than or equal to zero");if(t>255||a>255||o>255)throw new Error("rgb values must be less than or equal to 255");return.299*t+.587*a+.114*o<160}(e)?h(!1):h(!0)}}))};return(0,a.useEffect)((function(){window.addEventListener("scroll",(function(){if(y.current&&_.current){var e=i-60,n=document.documentElement.scrollTop||document.body.scrollTop;n>=e?(y.current.style.opacity="1",y.current.style.height="".concat(80,"px"),_.current.style.opacity="1"):(y.current.style.opacity="".concat(n/e),y.current.style.height="".concat(i-n,"px"),_.current.style.opacity="".concat(n/e))}}))}),[]),(0,a.useEffect)((function(){w(t)}),[t]),(0,s.jsxs)("div",{style:{backgroundColor:"rgb(".concat(p[0],", ").concat(p[1],", ").concat(p[2],")")},children:[(0,s.jsx)("div",{className:o.navbar,style:{height:60,color:g?"#fff":"#111"},ref:_,children:"Page Gradient Scroll"}),(0,s.jsx)("div",{className:o.bgImage,style:{height:i,backgroundImage:"url(".concat(c[t].url,")")}}),(0,s.jsx)("div",{className:o.bgImageMask,ref:y,style:{height:i,backgroundColor:"rgb(".concat(p[0],", ").concat(p[1],", ").concat(p[2],")")}}),(0,s.jsxs)("div",{className:o.wrap,children:[(0,s.jsx)("div",{className:o.bgPadding,style:{height:i-20}}),(0,s.jsx)("div",{className:o.tab,style:{top:60},children:(0,s.jsx)("div",{className:o.tabInner,ref:b,style:{backgroundColor:"rgba(".concat(p[0],", ").concat(p[1],", ").concat(p[2],", 0.4)")},children:c.map((function(e,n){return(0,s.jsx)("button",{className:"".concat(o.tabItem," ").concat(t===n?o.tabActive:""),onClick:function(){!function(e){if(l(e),b.current){var n=window.innerWidth/2,t=b.current.children[e].offsetWidth/2,r=b.current.children[e].offsetLeft-n+t;b.current.scroll({left:r,behavior:"smooth"})}}(n)},type:"button",children:e.name},e.name)}))})}),(0,s.jsx)("div",{className:o.content,children:(0,s.jsx)("div",{className:o.contentInner,style:{backgroundColor:"rgba(".concat(p[0],", ").concat(p[1],", ").concat(p[2],", 0.3)")},children:[1,2,3,4,5,6,7,8,9,10].map((function(e){return(0,s.jsx)("div",{className:o.contentItem,children:e},e)}))})})]})]})}}}]);
//# sourceMappingURL=687.86381d91.chunk.js.map