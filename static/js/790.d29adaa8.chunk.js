"use strict";(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[790],{3790:function(t,e,n){n.r(e),n.d(e,{default:function(){return u}});var o=n(2791),r=n(9439),c=function(){var t,e="position:",n="sticky",o=" -webkit- -moz- -o- -ms- ".split(" "),r=document.createElement("a").style;return r.cssText=e+o.join("".concat(n,";").concat(e)).slice(0,-9),-1!==(null===r||void 0===r||null===(t=r.position)||void 0===t?void 0:t.indexOf(n))},i=n(184),s=c()&&"IntersectionObserver"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype;var l=function(t){var e,n,c=t.children,l=t.offsetTop,u=t.scrollContainer,d=void 0===u?document:u,a=t.zIndex,p=void 0===a?101:a,x=t.onStickyTop,f=t.onCancelStickTop,y=t.offsetBottom,h=t.onStickyBottom,v=t.onCancelStickBottom,b=(0,o.useRef)(null),g=(0,o.useRef)(null),k=(0,o.useState)("auto"),w=(0,r.Z)(k,2),m=w[0],C=w[1],S=(0,o.useRef)(!1),B=(0,o.useRef)(!1);void 0!==l&&(e=l),void 0!==y&&(n=y);var j=function(){b.current&&(e&&b.current.getBoundingClientRect().top<=e?S.current||(g.current&&(g.current.style.position="fixed",g.current.style.top="".concat(e,"px"),g.current.style.bottom="auto"),x&&x(g),S.current=!S.current,b.current&&(b.current.style.zIndex="".concat(p+10))):S.current&&(g.current&&(g.current.style.position="absolute",g.current.style.top="0"),f&&f(g),S.current=!S.current,b.current&&(b.current.style.zIndex="".concat(p))))},E=function(){b.current&&(n&&b.current.getBoundingClientRect().bottom+n>=(window.innerHeight||document.documentElement.clientHeight)?B.current||(g.current&&(g.current.style.position="fixed",g.current.style.bottom="".concat(n,"px"),g.current.style.top="auto"),h&&h(g),B.current=!B.current):B.current&&(g.current&&(g.current.style.position="absolute",g.current.style.bottom="0"),v&&v(g),B.current=!B.current))};return(0,o.useEffect)((function(){var t;null===(t=document.querySelector("head"))||void 0===t||t.insertAdjacentHTML("beforeend","\n    <style>\n      .c-sticky-hack-css {\n        position: -webkit-sticky;\n        position: -moz-sticky;\n        position: -o-sticky;\n        position: -ms-sticky;\n        position: sticky;\n      }\n      .c-sticky-hack-css-r {\n        position: relative;\n      }\n    </style>\n    ")}),[]),(0,o.useEffect)((function(){return b.current&&C(b.current.getBoundingClientRect().height),g.current&&(g.current.style.position="absolute"),s?b.current&&(void 0!==n&&(b.current.style.bottom="".concat(n,"px")),void 0!==e&&(b.current.style.top="".concat(e,"px"))):(void 0!==n&&(d.removeEventListener("scroll",E),E(),d.addEventListener("scroll",E)),void 0!==e&&(d.removeEventListener("scroll",j),j(),d.addEventListener("scroll",j))),function(){d.removeEventListener("scroll",j),d.removeEventListener("scroll",E)}}),[l,y]),(0,o.useEffect)((function(){if(s&&b.current){if(void 0!==n)new IntersectionObserver((function(t){var e=(0,r.Z)(t,1)[0];e.boundingClientRect.top>=0&&(e.intersectionRatio<1?h&&h(g):v&&v(g))}),{threshold:[1],rootMargin:"0px 0px ".concat(-(n+1),"px 0px")}).observe(b.current);if(void 0!==e)new IntersectionObserver((function(t){var e=(0,r.Z)(t,1)[0];e.rootBounds&&e.boundingClientRect.top<=e.rootBounds.height&&(e.intersectionRatio<1?(x&&x(g),b.current&&(b.current.style.zIndex="".concat(p+10))):(f&&f(g),b.current&&(b.current.style.zIndex="".concat(p))))}),{threshold:[1],rootMargin:"".concat(-(e+1),"px 0px 0px 0px")}).observe(b.current)}}),[]),(0,i.jsx)("div",{ref:b,className:"".concat(s?"c-sticky-hack-css":"c-sticky-hack-css-r"),style:{width:"100vw",height:"".concat(m,"px"),zIndex:p,left:0,display:"block"},children:(0,i.jsx)("div",{ref:g,style:{top:0,left:0,width:"100%"},children:c})})};var u=function(){var t=(0,o.useRef)(null);return(0,i.jsxs)("div",{style:{width:"100vw",position:"absolute",top:0,left:0},children:[(0,i.jsx)("div",{ref:t,style:{width:"100vw",height:"".concat(88,"px"),position:"fixed",top:0,left:0,zIndex:200,backgroundColor:"#fff",boxShadow:"0 2px 4px 0px rgba(0, 0, 0, 0.22)",display:"flex",justifyContent:"center",alignItems:"center"},children:"navbar"}),(0,i.jsx)("div",{style:{width:"100vw",height:"100vw",backgroundColor:"#DCEDC8",display:"flex",justifyContent:"center",alignItems:"center"},children:"content"}),(0,i.jsx)(l,{offsetTop:87,onStickyTop:function(e){console.log("onStickyTop"),e.current&&(e.current.style.boxShadow="0 2px 4px 0px rgba(0, 0, 0, 0.22)"),t.current&&(t.current.style.boxShadow="none")},onCancelStickTop:function(e){console.log("onCancelStickTop"),e.current&&(e.current.style.boxShadow="none"),t.current&&(t.current.style.boxShadow="0 2px 4px 0px rgba(0, 0, 0, 0.22)")},children:(0,i.jsx)("div",{style:{width:"100vw",height:"80px",backgroundColor:"#eee"},children:"tab \u7ec4\u4ef6\u4e4b\u7c7b\u7684\uff0c\u5438\u9876\u5bb9\u5668\u7684\u5185\u5bb9"})}),(0,i.jsx)("div",{style:{width:"100vw",height:"200vw",backgroundColor:"#E0F7FA",display:"flex",justifyContent:"center",alignItems:"center"},children:"content"}),(0,i.jsx)(l,{zIndex:200,offsetTop:167,onStickyTop:function(t){console.log("onStickyTop"),t.current&&(t.current.style.boxShadow="0 2px 4px 0px rgba(0, 0, 0, 0.22)")},onCancelStickTop:function(t){console.log("onCancelStickTop"),t.current&&(t.current.style.boxShadow="none")},offsetBottom:43,onStickyBottom:function(t){console.log("onStickyBottom44"),t.current&&(t.current.style.boxShadow="0 -2px 4px 0px rgba(0, 0, 0, 0.22)")},onCancelStickBottom:function(t){console.log("onCancelStickBottom44"),t.current&&(t.current.style.boxShadow="none")},children:(0,i.jsx)("div",{style:{width:"100vw",height:"180px",backgroundColor:"#eee"},children:"\u65e2\u5438\u9876\u53c8\u5438\u5e95"})}),(0,i.jsx)("div",{style:{width:"100vw",height:"200vw",backgroundColor:"#B3E5FC",display:"flex",justifyContent:"center",alignItems:"center"},children:"content"}),(0,i.jsx)(l,{offsetBottom:8,onStickyBottom:function(t){console.log("onStickyBottom"),t.current&&(t.current.style.boxShadow="0 -2px 4px 0px rgba(0, 0, 0, 0.22)")},onCancelStickBottom:function(t){console.log("onCancelStickBottom"),t.current&&(t.current.style.boxShadow="none")},children:(0,i.jsx)("div",{style:{width:"100vw",height:"30px",backgroundColor:"#ddd"},children:"\u5438\u5e95\u5bb9\u5668"})}),["#E0F7FA","#B3E5FC","#81D4FA","#4FC3F7","#29B6F6","#03A9F4","#039BE5","#0288D1","#0277BD","#01579B"].map((function(t){return(0,i.jsx)("div",{style:{width:"100vw",height:"100vw",backgroundColor:t,display:"flex",justifyContent:"center",alignItems:"center"},children:"content"},t)}))]})}}}]);
//# sourceMappingURL=790.d29adaa8.chunk.js.map